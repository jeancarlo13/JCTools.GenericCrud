@using JCTools.GenericCrud.Helpers
@using Microsoft.AspNetCore.Mvc.Localization
@model JCTools.GenericCrud.Models.ICrudDetails
@inject IViewLocalizer Localizer

@{
    Layout = Model.UsePopups ? string.Empty : Model.LayoutPage;
    ViewData["Title"] = Model.Title;
    var values = @Model.GetModelValues();
}
@if (!Model.UsePopups)
{
    <h2>@Model.Title</h2>
    <h3>@Model.Subtitle</h3>
}
<div class="row">
    <dl class="dl-horizontal">
        @foreach(var value in values)
        {
            if (value.Visible)
            {
                <dt>
                    @value.Display
                </dt>
                <dd>
                    @value.Value
                </dd>
            }
        }
    </dl>
</div>
@if (!Model.UsePopups)
{
    <div class="row">
        <div class="col-md-12">
            @{
                var data = new ViewDataDictionary(this.ViewData) 
                { 
                    { "Url", Url.Action("Index") }
                };
            }
            @Html.Partial("_action", Model.IndexAction, data)
            @if (ViewBag.IsDelete == true)
            {
                data = new ViewDataDictionary(this.ViewData) 
                { 
                    { "Url", Url.Action("DeleteConfirm", new { id = Model.GetId() } ) }
                };
                @Html.Partial("_action", Model.DeleteAction, data)
            }
        </div>
    </div>
}
